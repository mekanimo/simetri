<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>simetri.graphics.shapes &#8212; simetri.graphics 0.0.5 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../../../_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=27fed22d" />
    <script src="../../../_static/documentation_options.js?v=282f96c0"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for simetri.graphics.shapes</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Shapes module contains classes and functions for creating shapes.&quot;&quot;&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">math</span><span class="w"> </span><span class="kn">import</span> <span class="n">pi</span><span class="p">,</span> <span class="n">gcd</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">comb</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">,</span> <span class="n">Union</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">copy</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">ndarray</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">..graphics.batch</span><span class="w"> </span><span class="kn">import</span> <span class="n">Batch</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">..graphics.bbox</span><span class="w"> </span><span class="kn">import</span> <span class="n">BoundingBox</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">..graphics.shape</span><span class="w"> </span><span class="kn">import</span> <span class="n">Shape</span><span class="p">,</span> <span class="n">custom_attributes</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">..graphics.common</span><span class="w"> </span><span class="kn">import</span> <span class="n">axis_x</span><span class="p">,</span> <span class="n">get_defaults</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">,</span> <span class="n">Point</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">..graphics.all_enums</span><span class="w"> </span><span class="kn">import</span> <span class="n">Types</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">..helpers.utilities</span><span class="w"> </span><span class="kn">import</span> <span class="n">decompose_transformations</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">..settings.settings</span><span class="w"> </span><span class="kn">import</span> <span class="n">defaults</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.affine</span><span class="w"> </span><span class="kn">import</span> <span class="n">scale_in_place_matrix</span><span class="p">,</span> <span class="n">rotation_matrix</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">..geometry.geometry</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">side_len_to_radius</span><span class="p">,</span>
    <span class="n">offset_polygon_points</span><span class="p">,</span>
    <span class="n">distance</span><span class="p">,</span>
    <span class="n">mid_point</span><span class="p">,</span>
    <span class="n">close_points2</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">simetri.colors</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">colors</span>

<span class="n">Color</span> <span class="o">=</span> <span class="n">colors</span><span class="o">.</span><span class="n">Color</span>


<div class="viewcode-block" id="Rectangle">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.Rectangle">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Rectangle</span><span class="p">(</span><span class="n">Shape</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A rectangle defined by width and height.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">center</span><span class="p">:</span> <span class="n">Point</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a Rectangle object.</span>

<span class="sd">        Args:</span>
<span class="sd">            center (Point): The center point of the rectangle.</span>
<span class="sd">            width (float): The width of the rectangle.</span>
<span class="sd">            height (float): The height of the rectangle.</span>
<span class="sd">            **kwargs: Additional keyword arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">center</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">half_width</span> <span class="o">=</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="n">half_height</span> <span class="o">=</span> <span class="n">height</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="n">vertices</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">half_width</span><span class="p">,</span> <span class="n">y</span> <span class="o">-</span> <span class="n">half_height</span><span class="p">),</span>
            <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">half_width</span><span class="p">,</span> <span class="n">y</span> <span class="o">-</span> <span class="n">half_height</span><span class="p">),</span>
            <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">half_width</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="n">half_height</span><span class="p">),</span>
            <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">half_width</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="n">half_height</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">vertices</span><span class="p">,</span> <span class="n">closed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subtype</span> <span class="o">=</span> <span class="n">Types</span><span class="o">.</span><span class="n">RECTANGLE</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set an attribute of the rectangle.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (str): The name of the attribute.</span>
<span class="sd">            value (Any): The value of the attribute.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;center&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_center</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;width&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_width</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;height&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_height</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

<div class="viewcode-block" id="Rectangle.scale">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.Rectangle.scale">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">scale</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">scale_x</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">scale_y</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">about</span><span class="p">:</span> <span class="n">Point</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="n">reps</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Scale the rectangle by scale_x and scale_y.</span>
<span class="sd">        Rectangles cannot be scaled non-uniformly.</span>
<span class="sd">        scale_x changes the width and scale_y changes the height.</span>

<span class="sd">        Args:</span>
<span class="sd">            scale_x (float): The scale factor for the width.</span>
<span class="sd">            scale_y (float, optional): The scale factor for the height. Defaults to None.</span>
<span class="sd">            about (Point, optional): The point to scale about. Defaults to (0, 0).</span>
<span class="sd">            reps (int, optional): The number of repetitions. Defaults to 0.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Rectangle: The scaled rectangle.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">scale_y</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">scale_y</span> <span class="o">=</span> <span class="n">scale_x</span>
        <span class="n">center</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">center</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">rotation</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">decompose_transformations</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xform_matrix</span><span class="p">)</span>
        <span class="n">rm</span> <span class="o">=</span> <span class="n">rotation_matrix</span><span class="p">(</span><span class="o">-</span><span class="n">rotation</span><span class="p">,</span> <span class="n">center</span><span class="p">)</span>
        <span class="n">sm</span> <span class="o">=</span> <span class="n">scale_in_place_matrix</span><span class="p">(</span><span class="n">scale_x</span><span class="p">,</span> <span class="n">scale_y</span><span class="p">,</span> <span class="n">about</span><span class="p">)</span>
        <span class="n">inv_rm</span> <span class="o">=</span> <span class="n">rotation_matrix</span><span class="p">(</span><span class="n">rotation</span><span class="p">,</span> <span class="n">center</span><span class="p">)</span>
        <span class="n">transform</span> <span class="o">=</span> <span class="n">rm</span> <span class="o">@</span> <span class="n">sm</span> <span class="o">@</span> <span class="n">inv_rm</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update</span><span class="p">(</span><span class="n">transform</span><span class="p">,</span> <span class="n">reps</span><span class="o">=</span><span class="n">reps</span><span class="p">)</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">width</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the width of the rectangle.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The width of the rectangle.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">distance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_set_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_width</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the width of the rectangle.</span>

<span class="sd">        Args:</span>
<span class="sd">            new_width (float): The new width of the rectangle.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">scale_x</span> <span class="o">=</span> <span class="n">new_width</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">scale_x</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">about</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="n">reps</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">height</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the height of the rectangle.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The height of the rectangle.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">distance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_set_height</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_height</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the height of the rectangle.</span>

<span class="sd">        Args:</span>
<span class="sd">            new_height (float): The new height of the rectangle.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">scale_y</span> <span class="o">=</span> <span class="n">new_height</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">scale_y</span><span class="p">,</span> <span class="n">about</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="n">reps</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">center</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the center of the rectangle.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Point: The center of the rectangle.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">mid_point</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_set_center</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_center</span><span class="p">:</span> <span class="n">Point</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the center of the rectangle.</span>

<span class="sd">        Args:</span>
<span class="sd">            new_center (Point): The new center of the rectangle.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">center</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">center</span>
        <span class="n">x_diff</span> <span class="o">=</span> <span class="n">new_center</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">center</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">y_diff</span> <span class="o">=</span> <span class="n">new_center</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">center</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
            <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="n">i</span><span class="p">][:</span><span class="mi">2</span><span class="p">]</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">x_diff</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="n">y_diff</span><span class="p">)</span>

<div class="viewcode-block" id="Rectangle.copy">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.Rectangle.copy">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a copy of the rectangle.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Rectangle: A copy of the rectangle.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">center</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">center</span>
        <span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span>
        <span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span>
        <span class="n">rectangle</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">rotation</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">decompose_transformations</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xform_matrix</span><span class="p">)</span>
        <span class="n">rectangle</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">rotation</span><span class="p">,</span> <span class="n">about</span><span class="o">=</span><span class="n">center</span><span class="p">,</span> <span class="n">reps</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">style</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">)</span>
        <span class="n">rectangle</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="n">style</span>
        <span class="n">rectangle</span><span class="o">.</span><span class="n">_set_aliases</span><span class="p">()</span>
        <span class="n">custom_attribs</span> <span class="o">=</span> <span class="n">custom_attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">attrib</span> <span class="ow">in</span> <span class="n">custom_attribs</span><span class="p">:</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="n">rectangle</span><span class="p">,</span> <span class="n">attrib</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attrib</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">rectangle</span></div>
</div>



<div class="viewcode-block" id="Rectangle2">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.Rectangle2">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Rectangle2</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A rectangle defined by two opposite corners.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">corner1</span><span class="p">:</span> <span class="n">Point</span><span class="p">,</span> <span class="n">corner2</span><span class="p">:</span> <span class="n">Point</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a Rectangle2 object.</span>

<span class="sd">        Args:</span>
<span class="sd">            corner1 (Point): The first corner of the rectangle.</span>
<span class="sd">            corner2 (Point): The second corner of the rectangle.</span>
<span class="sd">            **kwargs: Additional keyword arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span> <span class="o">=</span> <span class="n">corner1</span>
        <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span> <span class="o">=</span> <span class="n">corner2</span>
        <span class="n">x_min</span><span class="p">,</span> <span class="n">x_max</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">)</span>
        <span class="n">y_min</span><span class="p">,</span> <span class="n">y_max</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span>
        <span class="n">center</span> <span class="o">=</span> <span class="p">((</span><span class="n">x_min</span> <span class="o">+</span> <span class="n">x_max</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="n">y_min</span> <span class="o">+</span> <span class="n">y_max</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">width</span> <span class="o">=</span> <span class="n">x_max</span> <span class="o">-</span> <span class="n">x_min</span>
        <span class="n">height</span> <span class="o">=</span> <span class="n">y_max</span> <span class="o">-</span> <span class="n">y_min</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="Circle">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.Circle">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Circle</span><span class="p">(</span><span class="n">Shape</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A circle defined by a center point and a radius.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">center</span><span class="p">:</span> <span class="n">Point</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="n">radius</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">xform_matrix</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a Circle object.</span>

<span class="sd">        Args:</span>
<span class="sd">            center (Point, optional): The center point of the circle. Defaults to (0, 0).</span>
<span class="sd">            radius (float, optional): The radius of the circle. Defaults to None.</span>
<span class="sd">            xform_matrix (np.array, optional): The transformation matrix. Defaults to None.</span>
<span class="sd">            **kwargs: Additional keyword arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">radius</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">radius</span> <span class="o">=</span> <span class="n">defaults</span><span class="p">[</span><span class="s2">&quot;circle_radius&quot;</span><span class="p">]</span>

        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">center</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">points</span> <span class="o">=</span> <span class="p">[[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]]</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">xform_matrix</span><span class="o">=</span><span class="n">xform_matrix</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subtype</span> <span class="o">=</span> <span class="n">Types</span><span class="o">.</span><span class="n">CIRCLE</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_radius</span> <span class="o">=</span> <span class="n">radius</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set an attribute of the circle.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (str): The name of the attribute.</span>
<span class="sd">            value (Any): The value of the attribute.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;center&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;radius&quot;</span><span class="p">:</span>
            <span class="n">ratio</span> <span class="o">=</span> <span class="n">value</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">ratio</span><span class="p">,</span> <span class="n">about</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="n">reps</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">b_box</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the bounding box of the shape.</span>

<span class="sd">        Returns:</span>
<span class="sd">            BoundingBox: The bounding box of the shape.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">center</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span> <span class="n">y</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span>
        <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_b_box</span> <span class="o">=</span> <span class="n">BoundingBox</span><span class="p">((</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">),</span> <span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">))</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_b_box</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">closed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return True. Circles are closed.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@closed</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">closed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">center</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the center of the circle.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Point: The center of the circle.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@center</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">center</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Point</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the center of the circle.</span>

<span class="sd">        Args:</span>
<span class="sd">            value (Point): The new center of the circle.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">radius</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the radius of the circle.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The radius of the circle.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">scale_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xform_matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:</span><span class="mi">2</span><span class="p">])</span>  <span class="c1"># only x scale is used</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_radius</span> <span class="o">*</span> <span class="n">scale_x</span>

<div class="viewcode-block" id="Circle.copy">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.Circle.copy">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a copy of the circle.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Circle: A copy of the circle.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">center</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">center</span>
        <span class="n">radius</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span>
        <span class="n">circle</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="n">center</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="n">radius</span><span class="p">)</span>
        <span class="n">style</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">)</span>
        <span class="n">circle</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="n">style</span>
        <span class="n">circle</span><span class="o">.</span><span class="n">_set_aliases</span><span class="p">()</span>

        <span class="n">custom_attribs</span> <span class="o">=</span> <span class="n">custom_attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">custom_attribs</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>
        <span class="n">custom_attribs</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s2">&quot;_radius&quot;</span><span class="p">)</span>
        <span class="n">custom_attribs</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s2">&quot;radius&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">attrib</span> <span class="ow">in</span> <span class="n">custom_attribs</span><span class="p">:</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="n">circle</span><span class="p">,</span> <span class="n">attrib</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attrib</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">circle</span></div>
</div>



<div class="viewcode-block" id="Segment">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.Segment">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Segment</span><span class="p">(</span><span class="n">Shape</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A line segment defined by two points.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="n">Point</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="n">Point</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a Segment object.</span>

<span class="sd">        Args:</span>
<span class="sd">            start (Point): The start point of the segment.</span>
<span class="sd">            end (Point): The end point of the segment.</span>
<span class="sd">            **kwargs: Additional keyword arguments.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the start and end points are the same.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dist_tol2</span> <span class="o">=</span> <span class="n">defaults</span><span class="p">[</span><span class="s2">&quot;dist_tol&quot;</span><span class="p">]</span> <span class="o">**</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">close_points2</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dist2</span><span class="o">=</span><span class="n">dist_tol2</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Segment: start and end points are the same!&quot;</span><span class="p">)</span>
        <span class="n">points</span> <span class="o">=</span> <span class="p">[</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">]</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subtype</span> <span class="o">=</span> <span class="n">Types</span><span class="o">.</span><span class="n">SEGMENT</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the start point of the segment.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Point: The start point of the segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">end</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the end point of the segment.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Point: The end point of the segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">length</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the length of the segment.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The length of the segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">distance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">)</span>

<div class="viewcode-block" id="Segment.copy">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.Segment.copy">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Shape</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a copy of the segment.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Shape: A copy of the segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Segment</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span></div>


    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a string representation of the segment.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The string representation of the segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Segment(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a string representation of the segment.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The string representation of the segment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Segment(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the segment is equal to another segment.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (Segment): The other segment to compare to.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the segments are equal, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">other</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">Types</span><span class="o">.</span><span class="n">SEGMENT</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">start</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">end</span>
        <span class="p">)</span></div>



<div class="viewcode-block" id="Mask">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.Mask">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Mask</span><span class="p">(</span><span class="n">Shape</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A mask is a closed shape that is used to clip other shapes.</span>
<span class="sd">    All it has is points and a transformation matrix.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">points</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">xform_matrix</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a Mask object.</span>

<span class="sd">        Args:</span>
<span class="sd">            points (Sequence[Point]): The points that make up the mask.</span>
<span class="sd">            reverse (bool, optional): Whether to reverse the mask. Defaults to False.</span>
<span class="sd">            xform_matrix (np.array, optional): The transformation matrix. Defaults to None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">xform_matrix</span><span class="p">,</span> <span class="n">subtype</span><span class="o">=</span><span class="n">Types</span><span class="o">.</span><span class="n">MASK</span><span class="p">,</span> <span class="n">closed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reverse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">reverse</span></div>

        <span class="c1"># mask should be between \begin{scope} and \end{scope}</span>
        <span class="c1"># canvas, batch, and shapes can have scope</span>


<div class="viewcode-block" id="circle_points">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.circle_points">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">circle_points</span><span class="p">(</span><span class="n">center</span><span class="p">:</span> <span class="n">Point</span><span class="p">,</span> <span class="n">radius</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">30</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Point</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a list of points that form a circle with the given parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        center (Point): The center point of the circle.</span>
<span class="sd">        radius (float): The radius of the circle.</span>
<span class="sd">        n (int, optional): The number of points in the circle. Defaults to 30.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[Point]: A list of points that form a circle.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">arc_points</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">pi</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">)</span></div>



<div class="viewcode-block" id="arc_points">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.arc_points">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">arc_points</span><span class="p">(</span>
    <span class="n">center</span><span class="p">:</span> <span class="n">Point</span><span class="p">,</span>
    <span class="n">radius</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">start_angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">end_angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">clockwise</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">n</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Point</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a list of points that form a circular arc with the given parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        center (Point): The center point of the arc.</span>
<span class="sd">        radius (float): The radius of the arc.</span>
<span class="sd">        start_angle (float): The starting angle of the arc.</span>
<span class="sd">        end_angle (float): The ending angle of the arc.</span>
<span class="sd">        clockwise (bool, optional): Whether the arc is drawn clockwise. Defaults to False.</span>
<span class="sd">        n (int, optional): The number of points in the arc. Defaults to 20.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[Point]: A list of points that form a circular arc.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">center</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">points</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">clockwise</span><span class="p">:</span>
        <span class="n">start_angle</span><span class="p">,</span> <span class="n">end_angle</span> <span class="o">=</span> <span class="n">end_angle</span><span class="p">,</span> <span class="n">start_angle</span>
    <span class="n">step</span> <span class="o">=</span> <span class="p">(</span><span class="n">end_angle</span> <span class="o">-</span> <span class="n">start_angle</span><span class="p">)</span> <span class="o">/</span> <span class="n">n</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">start_angle</span><span class="p">,</span> <span class="n">end_angle</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">step</span><span class="p">):</span>
        <span class="n">points</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">x</span> <span class="o">+</span> <span class="n">radius</span> <span class="o">*</span> <span class="n">cos</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">y</span> <span class="o">+</span> <span class="n">radius</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="n">i</span><span class="p">)])</span>
    <span class="k">return</span> <span class="n">points</span></div>



<div class="viewcode-block" id="hex_points">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.hex_points">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">hex_points</span><span class="p">(</span><span class="n">side_length</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a list of points that define a hexagon with a given side length.</span>

<span class="sd">    Args:</span>
<span class="sd">        side_length (float): The length of each side of the hexagon.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[list[float]]: A list of points that define the hexagon.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">points</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">side_length</span> <span class="o">*</span> <span class="n">cos</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">/</span> <span class="mi">6</span><span class="p">)</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">side_length</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">/</span> <span class="mi">6</span><span class="p">)</span>
        <span class="n">points</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">points</span></div>



<div class="viewcode-block" id="rectangle_points">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.rectangle_points">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">rectangle_points</span><span class="p">(</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Point</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a list of points that form a rectangle with the given parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        x (float): The x-coordinate of the center of the rectangle.</span>
<span class="sd">        y (float): The y-coordinate of the center of the rectangle.</span>
<span class="sd">        width (float): The width of the rectangle.</span>
<span class="sd">        height (float): The height of the rectangle.</span>
<span class="sd">        angle (float, optional): The rotation angle of the rectangle. Defaults to 0.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Sequence[Point]: A list of points that form the rectangle.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">affine</span><span class="w"> </span><span class="kn">import</span> <span class="n">rotate</span>

    <span class="n">points</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">points</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">x</span> <span class="o">-</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y</span> <span class="o">-</span> <span class="n">height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">points</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">x</span> <span class="o">+</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y</span> <span class="o">-</span> <span class="n">height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">points</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">x</span> <span class="o">+</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="n">height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">points</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">x</span> <span class="o">-</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="n">height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">angle</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">points</span> <span class="o">=</span> <span class="n">rotate</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">points</span></div>



<div class="viewcode-block" id="reg_poly_points_side_length">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.reg_poly_points_side_length">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">reg_poly_points_side_length</span><span class="p">(</span><span class="n">pos</span><span class="p">:</span> <span class="n">Point</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">side_len</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Point</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a regular polygon points list with n sides and side_len length.</span>

<span class="sd">    Args:</span>
<span class="sd">        pos (Point): The position of the center of the polygon.</span>
<span class="sd">        n (int): The number of sides of the polygon.</span>
<span class="sd">        side_len (float): The length of each side of the polygon.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Sequence[Point]: A list of points that form the polygon.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rad</span> <span class="o">=</span> <span class="n">side_len_to_radius</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">side_len</span><span class="p">)</span>
    <span class="n">angle</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">/</span> <span class="n">n</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">pos</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">points</span> <span class="o">=</span> <span class="p">[[</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span> <span class="o">*</span> <span class="n">i</span><span class="p">)</span> <span class="o">*</span> <span class="n">rad</span> <span class="o">+</span> <span class="n">x</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">angle</span> <span class="o">*</span> <span class="n">i</span><span class="p">)</span> <span class="o">*</span> <span class="n">rad</span> <span class="o">+</span> <span class="n">y</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
    <span class="n">points</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">points</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">points</span></div>



<div class="viewcode-block" id="reg_poly_points">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.reg_poly_points">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">reg_poly_points</span><span class="p">(</span><span class="n">pos</span><span class="p">:</span> <span class="n">Point</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">r</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Point</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a regular polygon points list with n sides and radius r.</span>

<span class="sd">    Args:</span>
<span class="sd">        pos (Point): The position of the center of the polygon.</span>
<span class="sd">        n (int): The number of sides of the polygon.</span>
<span class="sd">        r (float): The radius of the polygon.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Sequence[Point]: A list of points that form the polygon.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">angle</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">/</span> <span class="n">n</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">pos</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">points</span> <span class="o">=</span> <span class="p">[[</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span> <span class="o">*</span> <span class="n">i</span><span class="p">)</span> <span class="o">*</span> <span class="n">r</span> <span class="o">+</span> <span class="n">x</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">angle</span> <span class="o">*</span> <span class="n">i</span><span class="p">)</span> <span class="o">*</span> <span class="n">r</span> <span class="o">+</span> <span class="n">y</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
    <span class="n">points</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">points</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">points</span></div>



<div class="viewcode-block" id="di_star">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.di_star">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">di_star</span><span class="p">(</span><span class="n">points</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Point</span><span class="p">],</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Batch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a dihedral star with n petals.</span>

<span class="sd">    Args:</span>
<span class="sd">        points (Sequence[Point]): List of [x, y] points.</span>
<span class="sd">        n (int): Number of petals.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Batch: A Batch instance (dihedral star with n petals).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">batch</span> <span class="o">=</span> <span class="n">Batch</span><span class="p">(</span><span class="n">Shape</span><span class="p">(</span><span class="n">points</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">batch</span><span class="o">.</span><span class="n">mirror</span><span class="p">(</span><span class="n">axis_x</span><span class="p">,</span> <span class="n">reps</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">/</span> <span class="n">n</span><span class="p">,</span> <span class="n">reps</span><span class="o">=</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span></div>



<div class="viewcode-block" id="hex_grid_centers">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.hex_grid_centers">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">hex_grid_centers</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">side_length</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a list of points that define the centers of hexagons in a grid.</span>

<span class="sd">    Args:</span>
<span class="sd">        x (float): The x-coordinate of the starting point.</span>
<span class="sd">        y (float): The y-coordinate of the starting point.</span>
<span class="sd">        side_length (float): The length of each side of the hexagons.</span>
<span class="sd">        n_rows (int): The number of rows in the grid.</span>
<span class="sd">        n_cols (int): The number of columns in the grid.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[Point]: A list of points that define the centers of the hexagons.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">centers</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_rows</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_cols</span><span class="p">):</span>
            <span class="n">x_</span> <span class="o">=</span> <span class="n">col</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">side_length</span> <span class="o">+</span> <span class="n">x</span>
            <span class="n">y_</span> <span class="o">=</span> <span class="n">row</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">side_length</span> <span class="o">+</span> <span class="n">y</span>
            <span class="k">if</span> <span class="n">col</span> <span class="o">%</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">y_</span> <span class="o">+=</span> <span class="n">side_length</span>
            <span class="n">centers</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">x_</span><span class="p">,</span> <span class="n">y_</span><span class="p">))</span>

    <span class="n">centers</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># first row</span>
    <span class="n">origin</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="n">grid</span> <span class="o">=</span> <span class="n">Batch</span><span class="p">(</span><span class="n">Point</span><span class="p">)</span>
    <span class="n">grid</span><span class="o">.</span><span class="n">transform</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">centers</span></div>



<div class="viewcode-block" id="rect_grid">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.rect_grid">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">rect_grid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">cell_width</span><span class="p">,</span> <span class="n">cell_height</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span><span class="p">,</span> <span class="n">pattern</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a grid of rectangles with the given parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        x (float): The x-coordinate of the starting point.</span>
<span class="sd">        y (float): The y-coordinate of the starting point.</span>
<span class="sd">        cell_width (float): The width of each cell in the grid.</span>
<span class="sd">        cell_height (float): The height of each cell in the grid.</span>
<span class="sd">        n_rows (int): The number of rows in the grid.</span>
<span class="sd">        n_cols (int): The number of columns in the grid.</span>
<span class="sd">        pattern (list[list[bool]]): A pattern to fill the grid.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Batch: A Batch object representing the grid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">width</span> <span class="o">=</span> <span class="n">cell_width</span> <span class="o">*</span> <span class="n">n_cols</span>
    <span class="n">height</span> <span class="o">=</span> <span class="n">cell_height</span> <span class="o">*</span> <span class="n">n_rows</span>
    <span class="n">horiz_line</span> <span class="o">=</span> <span class="n">line_shape</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">width</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
    <span class="n">horiz_lines</span> <span class="o">=</span> <span class="n">Batch</span><span class="p">(</span><span class="n">horiz_line</span><span class="p">)</span>
    <span class="n">horiz_lines</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">cell_height</span><span class="p">,</span> <span class="n">reps</span><span class="o">=</span><span class="n">n_rows</span><span class="p">)</span>
    <span class="n">vert_line</span> <span class="o">=</span> <span class="n">line_shape</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="n">height</span><span class="p">))</span>
    <span class="n">vert_lines</span> <span class="o">=</span> <span class="n">Batch</span><span class="p">(</span><span class="n">vert_line</span><span class="p">)</span>
    <span class="n">vert_lines</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">cell_width</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">reps</span><span class="o">=</span><span class="n">n_cols</span><span class="p">)</span>
    <span class="n">grid</span> <span class="o">=</span> <span class="n">Batch</span><span class="p">(</span><span class="n">horiz_lines</span><span class="p">,</span> <span class="o">*</span><span class="n">vert_lines</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_rows</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_cols</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">pattern</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]:</span>
                <span class="n">x_</span><span class="p">,</span> <span class="n">y_</span> <span class="o">=</span> <span class="p">(</span><span class="n">col</span> <span class="o">*</span> <span class="n">cell_width</span> <span class="o">+</span> <span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="n">n_rows</span> <span class="o">-</span> <span class="n">row</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">cell_height</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
                <span class="n">points</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="p">(</span><span class="n">x_</span><span class="p">,</span> <span class="n">y_</span><span class="p">),</span>
                    <span class="p">(</span><span class="n">x_</span> <span class="o">+</span> <span class="n">cell_width</span><span class="p">,</span> <span class="n">y_</span><span class="p">),</span>
                    <span class="p">(</span><span class="n">x_</span> <span class="o">+</span> <span class="n">cell_width</span><span class="p">,</span> <span class="n">y_</span> <span class="o">+</span> <span class="n">cell_height</span><span class="p">),</span>
                    <span class="p">(</span><span class="n">x_</span><span class="p">,</span> <span class="n">y_</span> <span class="o">+</span> <span class="n">cell_height</span><span class="p">),</span>
                <span class="p">]</span>
                <span class="n">cell</span> <span class="o">=</span> <span class="n">Shape</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">closed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fill_color</span><span class="o">=</span><span class="n">colors</span><span class="o">.</span><span class="n">gray</span><span class="p">)</span>
                <span class="n">grid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cell</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">grid</span></div>



<div class="viewcode-block" id="regular_star_polygon">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.regular_star_polygon">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">regular_star_polygon</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">rad</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a regular star polygon with the given parameters.</span>

<span class="sd">    :param n: The number of vertices of the star polygon.</span>
<span class="sd">    :type n: int</span>
<span class="sd">    :param step: The step size for connecting vertices.</span>
<span class="sd">    :type step: int</span>
<span class="sd">    :param rad: The radius of the star polygon.</span>
<span class="sd">    :type rad: float</span>
<span class="sd">    :return: A Batch object representing the star polygon.</span>
<span class="sd">    :rtype: Batch</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">angle</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">/</span> <span class="n">n</span>
    <span class="n">points</span> <span class="o">=</span> <span class="p">[(</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span> <span class="o">*</span> <span class="n">i</span><span class="p">)</span> <span class="o">*</span> <span class="n">rad</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">angle</span> <span class="o">*</span> <span class="n">i</span><span class="p">)</span> <span class="o">*</span> <span class="n">rad</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="n">step</span><span class="p">:</span>
        <span class="n">indices</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">%</span> <span class="n">n</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">step</span><span class="p">,</span> <span class="n">step</span><span class="p">))]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">indices</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">%</span> <span class="n">n</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">((</span><span class="n">n</span> <span class="o">//</span> <span class="n">step</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">step</span><span class="p">,</span> <span class="n">step</span><span class="p">))]</span>
    <span class="n">vertices</span> <span class="o">=</span> <span class="p">[</span><span class="n">points</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">Batch</span><span class="p">(</span><span class="n">Shape</span><span class="p">(</span><span class="n">vertices</span><span class="p">))</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="n">reps</span><span class="o">=</span><span class="n">gcd</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span></div>



<div class="viewcode-block" id="star_shape">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.star_shape">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">star_shape</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">reps</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a dihedral star from a list of points.</span>

<span class="sd">    Args:</span>
<span class="sd">        points (list[Point]): The list of points that form the star.</span>
<span class="sd">        reps (int, optional): The number of repetitions. Defaults to 5.</span>
<span class="sd">        scale (float, optional): The scale factor. Defaults to 1.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Batch: A Batch object representing the star.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">shape</span> <span class="o">=</span> <span class="n">Shape</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">subtype</span><span class="o">=</span><span class="n">Types</span><span class="o">.</span><span class="n">STAR</span><span class="p">)</span>
    <span class="n">batch</span> <span class="o">=</span> <span class="n">Batch</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span>
    <span class="n">batch</span><span class="o">.</span><span class="n">mirror</span><span class="p">(</span><span class="n">axis_x</span><span class="p">,</span> <span class="n">reps</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">batch</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">/</span> <span class="p">(</span><span class="n">reps</span><span class="p">),</span> <span class="n">reps</span><span class="o">=</span><span class="n">reps</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">batch</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">scale</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">batch</span></div>



<div class="viewcode-block" id="dot_shape">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.dot_shape">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">dot_shape</span><span class="p">(</span>
    <span class="n">x</span><span class="p">,</span>
    <span class="n">y</span><span class="p">,</span>
    <span class="n">radius</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">fill_color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">line_color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">line_width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a Shape object with a single point.</span>

<span class="sd">    Args:</span>
<span class="sd">        x (float): The x-coordinate of the point.</span>
<span class="sd">        y (float): The y-coordinate of the point.</span>
<span class="sd">        radius (float, optional): The radius of the point. Defaults to 1.</span>
<span class="sd">        fill_color (Color, optional): The fill color of the point. Defaults to None.</span>
<span class="sd">        line_color (Color, optional): The line color of the point. Defaults to None.</span>
<span class="sd">        line_width (float, optional): The line width of the point. Defaults to None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Shape: A Shape object with a single point.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fill_color</span><span class="p">,</span> <span class="n">line_color</span><span class="p">,</span> <span class="n">line_width</span> <span class="o">=</span> <span class="n">get_defaults</span><span class="p">(</span>
        <span class="p">[</span><span class="s2">&quot;fill_color&quot;</span><span class="p">,</span> <span class="s2">&quot;line_color&quot;</span><span class="p">,</span> <span class="s2">&quot;line_width&quot;</span><span class="p">],</span> <span class="p">[</span><span class="n">fill_color</span><span class="p">,</span> <span class="n">line_color</span><span class="p">,</span> <span class="n">line_width</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">dot_shape</span> <span class="o">=</span> <span class="n">Shape</span><span class="p">(</span>
        <span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)],</span>
        <span class="n">closed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">fill_color</span><span class="o">=</span><span class="n">fill_color</span><span class="p">,</span>
        <span class="n">line_color</span><span class="o">=</span><span class="n">line_color</span><span class="p">,</span>
        <span class="n">line_width</span><span class="o">=</span><span class="n">line_width</span><span class="p">,</span>
        <span class="n">subtype</span><span class="o">=</span><span class="n">Types</span><span class="o">.</span><span class="n">D_o_t</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">dot_shape</span><span class="o">.</span><span class="n">marker</span> <span class="o">=</span> <span class="n">radius</span>
    <span class="k">return</span> <span class="n">dot_shape</span></div>



<div class="viewcode-block" id="rect_shape">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.rect_shape">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">rect_shape</span><span class="p">(</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">fill_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="n">colors</span><span class="o">.</span><span class="n">white</span><span class="p">,</span>
    <span class="n">line_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="n">defaults</span><span class="p">[</span><span class="s2">&quot;line_color&quot;</span><span class="p">],</span>
    <span class="n">line_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">defaults</span><span class="p">[</span><span class="s2">&quot;line_width&quot;</span><span class="p">],</span>
    <span class="n">fill</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">marker</span><span class="p">:</span> <span class="s2">&quot;Marker&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Shape</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Given lower left corner position, width, and height,</span>
<span class="sd">    return a Shape object with points that form a rectangle.</span>

<span class="sd">    Args:</span>
<span class="sd">        x (float): The x-coordinate of the lower left corner.</span>
<span class="sd">        y (float): The y-coordinate of the lower left corner.</span>
<span class="sd">        width (float): The width of the rectangle.</span>
<span class="sd">        height (float): The height of the rectangle.</span>
<span class="sd">        fill_color (Color, optional): The fill color of the rectangle. Defaults to colors.white.</span>
<span class="sd">        line_color (Color, optional): The line color of the rectangle. Defaults to defaults[&quot;line_color&quot;].</span>
<span class="sd">        line_width (float, optional): The line width of the rectangle. Defaults to defaults[&quot;line_width&quot;].</span>
<span class="sd">        fill (bool, optional): Whether to fill the rectangle. Defaults to True.</span>
<span class="sd">        marker (Marker, optional): The marker for the rectangle. Defaults to None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Shape: A Shape object with points that form a rectangle.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Shape</span><span class="p">(</span>
        <span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">width</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">width</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="n">height</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="n">height</span><span class="p">)],</span>
        <span class="n">closed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">fill_color</span><span class="o">=</span><span class="n">fill_color</span><span class="p">,</span>
        <span class="n">line_color</span><span class="o">=</span><span class="n">line_color</span><span class="p">,</span>
        <span class="n">fill</span><span class="o">=</span><span class="n">fill</span><span class="p">,</span>
        <span class="n">line_width</span><span class="o">=</span><span class="n">line_width</span><span class="p">,</span>
        <span class="n">marker</span><span class="o">=</span><span class="n">marker</span><span class="p">,</span>
        <span class="n">subtype</span><span class="o">=</span><span class="n">Types</span><span class="o">.</span><span class="n">RECTANGLE</span><span class="p">,</span>
    <span class="p">)</span></div>



<div class="viewcode-block" id="arc_shape">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.arc_shape">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">arc_shape</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">start_angle</span><span class="p">,</span> <span class="n">end_angle</span><span class="p">,</span> <span class="n">clockwise</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">20</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a Shape object with points that form a circular arc with the given parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        x (float): The x-coordinate of the center of the arc.</span>
<span class="sd">        y (float): The y-coordinate of the center of the arc.</span>
<span class="sd">        radius (float): The radius of the arc.</span>
<span class="sd">        start_angle (float): The starting angle of the arc.</span>
<span class="sd">        end_angle (float): The ending angle of the arc.</span>
<span class="sd">        clockwise (bool, optional): Whether the arc is drawn clockwise. Defaults to False.</span>
<span class="sd">        n (int, optional): The number of points to use for the arc. Defaults to 20.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Shape: A Shape object with points that form a circular arc.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">points</span> <span class="o">=</span> <span class="n">arc_points</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">start_angle</span><span class="p">,</span> <span class="n">end_angle</span><span class="p">,</span> <span class="n">clockwise</span><span class="o">=</span><span class="n">clockwise</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Shape</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">closed</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">subtype</span><span class="o">=</span><span class="n">Types</span><span class="o">.</span><span class="n">ARC</span><span class="p">)</span></div>



<div class="viewcode-block" id="circle_shape">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.circle_shape">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">circle_shape</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">30</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a Shape object with points that form a circle with the given parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        x (float): The x-coordinate of the center of the circle.</span>
<span class="sd">        y (float): The y-coordinate of the center of the circle.</span>
<span class="sd">        radius (float): The radius of the circle.</span>
<span class="sd">        n (int, optional): The number of points to use for the circle. Defaults to 30.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Shape: A Shape object with points that form a circle.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">circ</span> <span class="o">=</span> <span class="n">arc_shape</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">pi</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
    <span class="n">circ</span><span class="o">.</span><span class="n">subtype</span> <span class="o">=</span> <span class="n">Types</span><span class="o">.</span><span class="n">CIRCLE</span>
    <span class="k">return</span> <span class="n">circ</span></div>



<div class="viewcode-block" id="reg_poly_shape">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.reg_poly_shape">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">reg_poly_shape</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a regular polygon.</span>

<span class="sd">    Args:</span>
<span class="sd">        pos (Point): The position of the center of the polygon.</span>
<span class="sd">        n (int): The number of sides of the polygon.</span>
<span class="sd">        r (float, optional): The radius of the polygon. Defaults to 100.</span>
<span class="sd">        kwargs (dict): Additional keyword arguments.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Shape: A Shape object with points that form a regular polygon.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">pos</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">points</span> <span class="o">=</span> <span class="n">reg_poly_points</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="n">r</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Shape</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">closed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="ellipse_shape">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.ellipse_shape">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">ellipse_shape</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">30</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a Shape object with points that form an ellipse with the given parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        x (float): The x-coordinate of the center of the ellipse.</span>
<span class="sd">        y (float): The y-coordinate of the center of the ellipse.</span>
<span class="sd">        width (float): The width of the ellipse.</span>
<span class="sd">        height (float): The height of the ellipse.</span>
<span class="sd">        n (int, optional): The number of points to use for the ellipse. Defaults to 30.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Shape: A Shape object with points that form an ellipse.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">points</span> <span class="o">=</span> <span class="n">ellipse_points</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Shape</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">subtype</span><span class="o">=</span><span class="n">Types</span><span class="o">.</span><span class="n">ELLIPSE</span><span class="p">)</span></div>



<div class="viewcode-block" id="line_shape">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.line_shape">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">line_shape</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">line_width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="n">colors</span><span class="o">.</span><span class="n">black</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a Shape object with two points p1 and p2.</span>

<span class="sd">    Args:</span>
<span class="sd">        p1 (Point): The first point of the line.</span>
<span class="sd">        p2 (Point): The second point of the line.</span>
<span class="sd">        line_width (float, optional): The width of the line. Defaults to 1.</span>
<span class="sd">        line_color (Color, optional): The color of the line. Defaults to colors.black.</span>
<span class="sd">        kwargs (dict): Additional keyword arguments.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Shape: A Shape object with two points that form a line.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span> <span class="o">=</span> <span class="n">p1</span>
    <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span> <span class="o">=</span> <span class="n">p2</span>
    <span class="k">return</span> <span class="n">Shape</span><span class="p">(</span>
        <span class="p">[(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">),</span> <span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)],</span>
        <span class="n">closed</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">line_color</span><span class="o">=</span><span class="n">line_color</span><span class="p">,</span>
        <span class="n">line_width</span><span class="o">=</span><span class="n">line_width</span><span class="p">,</span>
        <span class="n">subtype</span><span class="o">=</span><span class="n">Types</span><span class="o">.</span><span class="n">L_i_n_e</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span></div>



<div class="viewcode-block" id="offset_polygon_shape">
<a class="viewcode-back" href="../../../simetri.graphics.html#simetri.graphics.shapes.offset_polygon_shape">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">offset_polygon_shape</span><span class="p">(</span>
    <span class="n">polygon_shape</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">dist_tol</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">defaults</span><span class="p">[</span><span class="s2">&quot;dist_tol&quot;</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Point</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a copy of a polygon with offset edges.</span>

<span class="sd">    Args:</span>
<span class="sd">        polygon_shape (Shape): The original polygon shape.</span>
<span class="sd">        offset (float, optional): The offset distance. Defaults to 1.</span>
<span class="sd">        dist_tol (float, optional): The distance tolerance. Defaults to defaults[&quot;dist_tol&quot;].</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[Point]: A list of points that form the offset polygon.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">vertices</span> <span class="o">=</span> <span class="n">offset_polygon_points</span><span class="p">(</span><span class="n">polygon_shape</span><span class="o">.</span><span class="n">vertices</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">dist_tol</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">Shape</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span></div>

</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">simetri.graphics</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">API Reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../modules.html">src</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.html">Module code</a><ul>
  <li><a href="../graphics.html">simetri.graphics</a><ul>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Fahri Basegmez.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
    </div>

    

    
  </body>
</html>